"use strict";var n=require("./isKey.js");module.exports=function(t){return function(i,r){if("keydown"===r.type&&(t||function(t){return n("ctrl/cmd+x",t)})(r)){r.preventDefault();var e=i.value,a=i.selectionStart,o=i.selectionEnd;if(o!==a){var l=e.substring(0,a)+e.substring(o);return navigator&&navigator.clipboard&&navigator.clipboard.writeText(e.substring(a,o)).catch((function(){})),{value:l,selectionStart:a,selectionEnd:a}}var u=e.substring(0,a).split("\n").slice(0,-1),c=u.length,s=e.split("\n").map((function(n,t){return t===c?null:n})).filter((function(n){return null!=n})).join("\n");return navigator&&navigator.clipboard&&navigator.clipboard.writeText(e.split("\n")[c]).catch((function(){})),{value:s,selectionStart:u.join("\n").length+1,selectionEnd:u.join("\n").length+1}}}};
