"use strict";var t=require("./isKey.js");module.exports=function(){var e=[],n=null,u=function(t){n=0,e.push(t)},r=function(t){(e=e.slice(0,n+1)).push(t),n=e.length-1},l=function(t){return e[n].value!==t.value||e[n].selectionStart!==t.selectionStart||e[n].selectionEnd!==t.selectionEnd};return function(i,c){if("keydown"===c.type){if(t("ctrl/cmd+z",c)&&(c.preventDefault(),null!==n)){l(i)&&(e.push(i),n++);var o=Math.max(0,n-1);return n=o,e[o]}if(t("ctrl/cmd+shift+z",c)&&(c.preventDefault(),null!==n)){var s=Math.min(e.length-1,n+1);return n=s,e[s]}if(null===n)return void u(i);if(l(i))return void r(i)}"input"===c.type&&(null===n?u(i):r(i))}};
